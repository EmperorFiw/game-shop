<div class="flex h-screen">
	<app-navbar></app-navbar>

	<main class="flex-1 bg-gradient-to-br from-blue-50 via-white to-indigo-50 ml-64 p-6 overflow-y-auto">
		<div class="max-w-4xl mx-auto">
			<h1 class="text-2xl font-bold text-center mb-2">รายการเกมของฉัน</h1>
			<p class="text-center text-gray-600 mb-6">รายการเกมที่คุณได้ทำการซื้อแล้ว</p>

			<!-- Loading -->
			<div *ngIf="loading" class="text-center text-gray-500 py-10">
				กำลังโหลดข้อมูล...
			</div>

			<!-- Error -->
			<div *ngIf="!loading && errorMessage" class="text-center text-red-500 py-10">
				{{ errorMessage }}
			</div>

			<!-- Empty -->
			<div *ngIf="!loading && !errorMessage && games.length === 0" class="text-center text-gray-500 py-10">
				ยังไม่มีเกมที่ซื้อไว้
			</div>

			<!-- Games List -->
			<ng-container *ngFor="let g of games">
				<div
					class="flex border-2 border-green-400 rounded-xl p-4 mb-6 bg-white shadow-sm cursor-pointer hover:shadow-md transition"
					[routerLink]="['/movie-details', g.id]"
				>
					<img
						[src]="getGameImage(g.image)"
						[alt]="g.name"
						class="w-32 h-44 object-cover rounded-lg mr-4"
					/>
					<div>
						<h2 class="text-xl font-semibold">{{ g.name }}</h2>
						<p class="text-sm text-gray-500">ประเภทเกม : {{ g.category }}</p>
						<p class="mt-2 text-gray-700">
							{{ g.description || 'ไม่มีคำอธิบายสำหรับเกมนี้' }}
						</p>
						<p class="mt-2">
							วันวางจำหน่าย :
							<span class="font-medium">{{ g.release_date | date:'mediumDate' }}</span>
						</p>
						<p class="mt-2 font-bold text-green-700">ราคา {{ g.price }} บาท</p>
					</div>
				</div>
			</ng-container>
		</div>
	</main>
</div>
